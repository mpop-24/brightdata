'use strict';(()=>{const brd=window.brd||{};brd.essentials=brd.essentials||{};brd.helpers=brd.helpers||{};brd.helpers.get_rel_pos=el=>{const pos={top:0,right:0,bottom:0,left:0};if(!el)
return pos;const parent_pos=el.parentNode?el.parentNode.getBoundingClientRect():!1;const el_pos=el.getBoundingClientRect();if(!parent_pos||!el_pos)
return pos;let parent_left=parent_pos.left;if(el.parentNode.classList.contains('border'))
parent_left=parent_left+1;return{top:el_pos.top-parent_pos.top,right:el_pos.right-parent_pos.right,bottom:el_pos.bottom-parent_pos.bottom,left:el_pos.left-parent_left,}};brd.helpers.tabs_sc=sc=>{const scope=sc.dataset.scope?sc.dataset.scope:'';const tabs=sc.querySelectorAll(`${scope}[data-role=tab]`);if(!tabs.length)
return;const cls_shown=sc.dataset.shown?sc.dataset.shown:'';const cls_hidden=sc.dataset.hidden?sc.dataset.hidden:'';const tab_default=sc.querySelector('[data-open=on_load]');const hide_all=()=>{const sel=sc.querySelectorAll(`${scope}[aria-expanded=true]`);const panels=sc.querySelectorAll(`${scope}[data-role=tabpanel]`);if(sel)
sel.forEach(el=>el.setAttribute('aria-expanded',!1));if(!panels.length)
return;panels.forEach(el=>{if(cls_shown)
el.classList.remove(cls_shown);if(cls_hidden){el.classList.add(cls_hidden);return}
el.setAttribute('hidden',!0)})};const change_tabs=tab_active=>{const controls=tab_active.getAttribute('aria-controls');const panels=[];const ids=controls.split(' ');ids.forEach(id=>panels.push(document.getElementById(id)));if(!panels.length)
return;hide_all();tab_active.setAttribute('aria-expanded',!0);panels.forEach(panel=>{panel.removeAttribute('hidden');if(cls_shown)
panel.classList.add(cls_shown);if(cls_hidden)
panel.classList.remove(cls_hidden);set_rel_pos(tab_active);set_tabs_height(sc,tabs)})};const tabs_click=e=>{change_tabs(e.currentTarget);const mob_behavior=e.target.closest('.ui_tabs').dataset.mobile_behaviour;if(mob_behavior=='tabs')
return;const scrollto=sc.dataset.mobile_scroll_to?document.querySelector(sc.dataset.mobile_scroll_to):e.currentTarget;const offset=sc.dataset.mobile_scroll_offset||70;brd.essentials.scroll_to({el:scrollto,media:'(max-width: 767px)',delay:350,offset:offset,})};const set_height=()=>{const tab_panels=sc.querySelectorAll(`${scope}[data-role=tabpanel]`);if(!tab_panels.length)
return;let height=0;const is_product_tabs=sc.classList.contains('product_tabs');const is_tabs=sc.classList.contains('tabs');tab_panels.forEach(el=>{if((is_product_tabs||is_tabs)&&window.innerWidth>=768){el.style.display='block';const current_height=el.scrollHeight;el.style.display='';height=Math.max(height,current_height);el.style.height=height+'px'}
el.style.setProperty('--panel_height',`${el.scrollHeight}px`)})};const get_tabs_height=items=>{const tabs_height=Array.from(items).map(t=>t.offsetHeight);return Math.max.apply(Math,tabs_height)};const set_tabs_height=(cont,items)=>{const tabs_height=get_tabs_height(items);cont.style.setProperty('--max-tab-height',tabs_height+'px')};const set_rel_pos=el=>{const pos=brd.helpers.get_rel_pos(el);if(!el)
return;const el_width=el.offsetWidth;const tab_title=el.querySelector('.tabs_item_title');const content_width=tab_title?tab_title.offsetWidth:el_width;const offset=(el_width-content_width)/2;el.parentNode.style.setProperty('--pos-left',`${pos.left+offset}px`);el.parentNode.style.setProperty('--tab-active-width',`${content_width}px`)};const set_cont_width=()=>{const content=sc.querySelector('.tabs_content');const tab_width=content?content.offsetWidth:0;sc.style.setProperty('--content-width',`${tab_width}px`)};const set_sizes=()=>{set_rel_pos(sc.querySelector(`${scope}[aria-expanded=true]`));set_height();set_cont_width();set_tabs_height(sc,tabs)};if(tab_default)
change_tabs(tab_default);else hide_all();tabs.forEach(el=>el.addEventListener('click',tabs_click));set_sizes()};brd.helpers.tabs=()=>{const tabs=document.querySelectorAll('.ui_tabs');if(!tabs.length)
return;tabs.forEach(t=>brd.helpers.tabs_sc(t))};brd.helpers.brd_tabs=()=>{const tabs=document.querySelectorAll('.brd_tabs [role="tablist"]');if(!tabs.length)
return;tabs.forEach(t=>{let button=t.querySelector('button[role="tab"]');let button_width=button.offsetWidth;const pos=brd.helpers.get_rel_pos(button);t.style.setProperty('--width',`${button_width}px`);t.style.setProperty('--left',`${pos.left}px`);t.style.setProperty('--height',`${button.offsetHeight}px`)})};brd.helpers.brd_tabs();brd.helpers.tabs();brd.helpers.change_tab=e=>{const target=e.target;const parent=target.parentNode;const grandparent=parent.parentNode;parent.querySelectorAll(':scope > [aria-selected="true"]').forEach(t=>{t.setAttribute('aria-selected',!1);t.setAttribute('tabindex','-1')});target.setAttribute('aria-selected',!0);target.setAttribute('tabindex','0');grandparent.querySelectorAll(':scope > [role="tabpanel"]').forEach(p=>p.setAttribute('hidden',!0));grandparent.parentNode.querySelector(`#${target.getAttribute('aria-controls')}`).removeAttribute('hidden');const pos=brd.helpers.get_rel_pos(target);parent.style.setProperty('--width',`${target.offsetWidth}px`);parent.style.setProperty('--left',`${pos.left}px`);parent.style.setProperty('--height',`${target.offsetHeight}px`)};brd.helpers.move_tab=(elm,e)=>{const tabs=elm.querySelectorAll(':scope > [role="tab"]');let tab_focus=parseInt(elm.getAttribute('data-tfocus'));if(e.key!=='ArrowRight'&&e.key!=='ArrowLeft')
return;tabs[tab_focus].setAttribute('tabindex','-1');if(e.key==='ArrowRight'){tab_focus++;if(tab_focus>=tabs.length)
tab_focus=0}else if(e.key==='ArrowLeft'){tab_focus--;if(tab_focus<0)
tab_focus=tabs.length-1}
tabs[tab_focus].setAttribute('tabindex','0');tabs[tab_focus].focus();elm.setAttribute('data-tfocus',tab_focus)};window.brd=brd})()