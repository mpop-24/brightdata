'use strict';const brd_autocomplete={input:document.getElementById('q'),results:document.getElementById('autocomplete-results'),wrapper:document.getElementById('integration_search'),timeout:null,init(){this.wrapper.addEventListener('focusout',()=>{this.results.classList.remove('active')});this.input.addEventListener('input',e=>{clearTimeout(this.timeout);this.timeout=setTimeout(()=>this.on_search(e),350)})},get_data(elm){if(!elm||!elm.dataset.source)
return!1;try{return JSON.parse(elm.dataset.source)}catch(e){return!1}},on_search(e){let elm=e.target;let qs=elm.value;this.clear_results();if(qs.length<3)
return;let data=this.get_data(elm);let results=this.search(qs,data);if(results.length<=0)
return;this.results.classList.add('active');results.forEach(item=>{const li=document.createElement('li');const a=document.createElement('a');a.classList.add('body','color-gray_700');a.href=item.link;a.textContent=item.title;li.appendChild(a);this.results.appendChild(li)})},clear_results(){this.results.innerHTML='';this.results.classList.remove('active')},search(qs,data){let count=0;return data.filter(item=>{if(count>9||item.title.toLowerCase().indexOf(qs)<0)
return!1;count++;return!0})}};brd_autocomplete.init()