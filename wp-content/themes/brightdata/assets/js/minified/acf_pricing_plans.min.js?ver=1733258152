'use strict';const pricing_plans={init(){this.plans_filters=document.querySelectorAll('.pricing_plans '+'.filter');this.first_el=this.plans_filters[0];this.init_by_url();this.is_proxy=this.plans_filters.length>0;this.product_name='res_rotating';this.plan='monthly';this.toggle();this.filters();this.sliders();this.toggle_monthly();this.toggle_subscription();window.addEventListener('resize',()=>this.resize());this.resize()},resize(){this.inner_togglers=document.querySelectorAll('.filters .filter.active');this.inner_togglers.forEach(btn=>{pricing_plans.set_btns_width(btn)})},set_btns_width(elm){const pos=pricing_plans.get_rel_pos(elm);const tab_width=elm.offsetWidth;elm.parentNode.style.setProperty('--tab-active-width',`${tab_width}px`);elm.parentNode.style.setProperty('--pos-left',`${pos.left}px`);elm.classList.add('active')},get_rel_pos(el){const pos={top:0,right:0,bottom:0,left:0};if(!el)
return pos;const parent_pos=el.parentNode?el.parentNode.getBoundingClientRect():!1;const el_pos=el.getBoundingClientRect();if(!parent_pos||!el_pos)
return pos;return{top:el_pos.top-parent_pos.top,right:el_pos.right-parent_pos.right,bottom:el_pos.bottom-parent_pos.bottom,left:el_pos.left-parent_pos.left,}},toggle(){let item=document.querySelector('.ptoggle');if(!item)
return;let target=document.querySelector(item.getAttribute('data-target'));item.addEventListener('click',e=>{let is_open=item.getAttribute('aria-expanded')=='true';if(is_open){target.classList.add('d-none');item.setAttribute('aria-expanded','false')}else{target.classList.remove('d-none');item.setAttribute('aria-expanded','true')}})},filters(){if(!this.is_proxy)
return;this.plans_filters.forEach(filter=>{filter.addEventListener('click',()=>{let product=filter.getAttribute('data-product');if(product)
this.filter(product);if(!filter.classList.contains('inner')){this.plans_filters.forEach(el=>el.classList.remove('active'))}
pricing_plans.set_btns_width(filter)})})},filter(product){let lists=document.querySelectorAll('.pricing_table .flist, '+'.ptable, .pricing_slider');if(lists.length){lists.forEach(function(list){if(list.classList.contains(product))
list.classList.remove('d-none');else list.classList.add('d-none')})}
this.product_name=product;this.sliders();this.update_url()},sliders(){const sliders=document.querySelectorAll('.pricing_slider .splide');if(!sliders.length)
return;sliders.forEach(slider=>{let is_active=!slider.classList.contains('d-none');if(!is_active)
return;new Splide(slider,{type:'slide',rewind:!1,speed:400,pagination:!1,focus:'center',start:1,omitEnd:!0,autoWidth:!0,mediaQuery:'min',trimSpace:!1,breakpoints:{768:{destroy:!0},},}).mount()})},toggle_monthly(){const switchers=document.querySelectorAll('.pricing_plans .switch '+'input');if(!switchers.length)
return;switchers.forEach(switcher=>{switcher.addEventListener('click',()=>{let state=switcher.checked?'yearly':'monthly';let price_elms=switcher.closest('.pricing_box').querySelectorAll('.switch_my');if(!price_elms)
return;price_elms.forEach(price_elm=>{if(price_elm.classList.contains(state))
price_elm.classList.remove('d-none');else price_elm.classList.add('d-none')})})})},toggle_subscription(){const togglers=document.querySelectorAll('.pricing_plans '+'.toggler button');if(!togglers.length)
return;togglers.forEach(function(toggler){toggler.addEventListener('click',function(){const p_box=toggler.closest('.dataset');const sub_btn=p_box.querySelector('.subscription');const one_time_btn=p_box.querySelector('.one_time');const sub_txt=p_box.querySelector('.sub_txt');const one_time_txt=p_box.querySelector('.one_time_txt');if(toggler.classList.contains('subscription')){sub_btn.classList.add('active');one_time_btn.classList.remove('active');sub_txt.classList.add('active');one_time_txt.classList.remove('active')}else if(toggler.classList.contains('one_time')){one_time_btn.classList.add('active');sub_btn.classList.remove('active');one_time_txt.classList.add('active');sub_txt.classList.remove('active')}})})},update_url(){if(!this.is_proxy)
return;let params=window.location.search.replace('?','');let search_params=new URLSearchParams(params);let new_url=window.location.origin+window.location.pathname;search_params.set('plan',this.plan);search_params.set('type',this.product_name);new_url+='?'+search_params.toString();history.pushState({},'',new_url)},init_by_url(){const params=window.location.search.replace('?','');const search_params=new URLSearchParams(params);for(const[key,value]of search_params.entries()){if(key=='plan')
this.plan=value;if(key=='type')
this.product_name=value}
const selected=document.querySelector('.pricing_plans .filter'+'[data-product="'+this.product_name+'"]');if(selected)
pricing_plans.set_btns_width(selected);else if(pricing_plans.first_el)
pricing_plans.set_btns_width(pricing_plans.first_el)}};pricing_plans.init()