'use strict';const brd_load_more_items={init(){this.load_more()},prepare_args(element){return{post_type:element.getAttribute('data-post_type'),posts_per_page:element.getAttribute('data-posts_per_page'),category:element.getAttribute('data-taxonomy'),paged:parseInt(element.getAttribute('data-paged'))+1,template:element.getAttribute('data-template'),post_not_in:element.getAttribute('data-post_not_in'),}},request(args,current_page,wrapper,load_more_btn){const posts_container=wrapper.querySelector('.loop');wrapper.classList.add('loading');let url=typeof brd_data.ajax_url!=='undefined'&&brd_data.ajax_url!==null?brd_data.ajax_url:!1;if(!url)
return;let params={method:'POST',body:new URLSearchParams({action:'brd_load_more_items',template:args.template,paged:current_page,posts_per_page:args.posts_per_page,post_type:args.post_type,post_not_in:args.post_not_in,}),headers:{'Content-Type':'application/x-www-form-urlencoded'}};fetch(brd_data.ajax_url,params).then(response=>response.json()).then(resp=>{if(!resp.success)
return;posts_container.insertAdjacentHTML('beforeend',resp.data.html);wrapper.classList.remove('loading');if(current_page>=resp.data.max)
load_more_btn.style.display='none'}).catch(error=>{wrapper.classList.remove('loading');console.error(error)})},load_more(){const loop_wrappers=document.querySelectorAll('.loop_wrapper');let url_page=1;if(window.location.pathname.includes('/page/')){const path_parts=location.pathname.split('/');url_page=path_parts[path_parts.length-1]}
for(let i=0;i<loop_wrappers.length;i++){let loop_wrapper=loop_wrappers[i];let load_more_btn=loop_wrapper.querySelector('.load_more_btn');let args=this.prepare_args(loop_wrapper);let current_page=url_page;if(!load_more_btn)
continue;load_more_btn.addEventListener('click',e=>{e.preventDefault();current_page++;this.request(args,current_page,loop_wrapper,load_more_btn)})}},};document.addEventListener('DOMContentLoaded',function(){brd_load_more_items.init()});'use strict';const brd_fire_search_event={init(){this.fire_search_event()},fire_search_event(){let current_url=window.location.href;let url_object=new URL(current_url);let pathname=url_object.pathname;pathname=pathname.replace(/^\//,'');let segments=pathname.split('/');let page_name=segments[0];let search_form=document.querySelector('#blog_search');let search_query=document.querySelector('#blog_search #q');if(!search_query||!search_form)
return;let search_btn=document.querySelector('#blog_search button');search_btn.addEventListener('click',function(event){event.preventDefault();let event_data={'event':page_name+'-search','search-query':search_query.value};window.dataLayer.push(event_data);search_form.submit()})},};document.addEventListener('DOMContentLoaded',function(){brd_fire_search_event.init()})