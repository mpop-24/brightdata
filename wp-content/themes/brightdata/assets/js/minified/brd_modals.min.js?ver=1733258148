'use strict';const brd_modals={splides:[],init(){MicroModal.init();this.elementor_cta_to_acf();this.trigger_modal_on_load();const popup_triggers=document.querySelectorAll('a[href^="#popup"], '+'.play');for(let i=0;i<popup_triggers.length;i++){let popup_trigger=popup_triggers[i];popup_trigger.addEventListener('click',e=>{e.preventDefault();let btn=e.target.closest('a');if(!btn)
return;let is_video=btn.classList.contains('play');let modal_id=is_video?'popup-'+155469:btn.getAttribute('href').replace('#','');this.init_modal(modal_id,is_video,btn)})}},elementor_cta_to_acf(){let is_cn=location.href.includes('bright.cn');const replace_map={'#hs-signup':is_cn?'#popup-127701':'#popup-155639','#hs-contact':is_cn?'#popup-129048':'#popup-160692','#contact_sales':is_cn?'#popup-129048':'#popup-160692','#datasets-demo':'#popup-171881','#dca-demo':'#popup-170968','#web-data':'#popup-170970','#event-register':'#popup-200120',};const anchor_tags=document.querySelectorAll('a.wp-block-button__link');if(!anchor_tags||!anchor_tags.length)
return;for(let i=0;i<anchor_tags.length;i++){const href=anchor_tags[i].getAttribute('href');const keys=Object.keys(replace_map);for(let c=0;c<keys.length;c++){const key=keys[c];if(!href||!href.includes(key))
continue;anchor_tags[i].setAttribute('href',href.replace(key,replace_map[key]))}}},trigger_modal_on_load(){const popup_map={'1':155639,'155639':155639,'160692':160692,'171881':171881,'170968':170968,'170970':170970,'200120':200120,'228256':228256,'insights':184098,};const hash_map={'#hs-signup':155639,'#hs-contact':160692,'#contact_sales':160692,'#datasets-demo':171881,'#dca-demo':170968,'#web-data':170970,'#event-register':200120,};let modal_id=0;let modal_selector='';if(window.location.hash&&hash_map[window.location.hash])
modal_id=hash_map[window.location.hash];if(modal_id){modal_selector='popup-'+modal_id;this.init_modal(modal_selector,!1,!1);return}
const query_string=window.location.search;if(!query_string)
return;const url_params=new URLSearchParams(query_string);const hs_signup=url_params.get('hs_signup');modal_id=popup_map[hs_signup];if(!modal_id)
modal_id=parseInt(hs_signup);if(modal_id){modal_selector='popup-'+modal_id;this.init_modal(modal_selector,!1,!1)}},init_modal(modal_id,is_video,btn){if(document.querySelectorAll('#'+modal_id).length==0){let html=brd_popups_html[modal_id];if(html)
document.body.insertAdjacentHTML('beforeend',html)}
let modals=document.querySelectorAll('.micromodal');for(let k=0;k<modals.length;k++){let modal=modals[k];let popup_id=modal.getAttribute('id');if(popup_id==modal_id)
continue;let style=window.getComputedStyle(modal);let is_shown=style.display!='none';if(is_shown)
MicroModal.close(popup_id)}
if(document.querySelectorAll('#'+modal_id).length==0)
return;MicroModal.show(modal_id,{disableScroll:!0,awaitCloseAnimation:!0,awaitOpenAnimation:!0,onShow:modal=>{this.on_show(modal,modal_id,btn);brd_init_hs_forms(modal,!0,!0);if(is_video){const placeholder=modal.querySelector('.micromodal__inner');const href=btn.getAttribute('href');const concat=href.includes('?')?'&':'?';const close_button=modal.querySelector('[data-micromodal-close]');if(href.includes('youtube.com')||href.includes('youtu.be')){placeholder.innerHTML='<iframe src="'+href+concat+'autoplay=1" allow="accelerometer; autoplay; '+'clipboard-write; encrypted-media; gyroscope; '+'picture-in-picture; web-share" allowfullscreen>'+'</iframe>'}else{placeholder.innerHTML='<video controls autoplay>'+'<source src="'+href+'" type="video/mp4"></video>'}
if(!close_button)
return;if(close_button){close_button.addEventListener('click',()=>{placeholder.innerHTML=''})}}
let medias=modal.querySelectorAll('iframe, video');if(!medias)
return;for(let i=0;i<medias.length;i++){let media=medias[i];if(media.getAttribute('data-src')){media.setAttribute('src',media.getAttribute('data-src'))}}},onClose:modal=>{let medias=modal.querySelectorAll('iframe, video');if(!medias)
return;for(let i=0;i<medias.length;i++){let media=medias[i];if(media.getAttribute('src')){media.setAttribute('data-src',media.getAttribute('src'));media.removeAttribute('src')}}}})},on_show(modal,modal_id,btn){btn=btn||!1;let modal_ids=['popup-233768','popup-155639','popup-228256','popup-160692','popup-170966','popup-170968','popup-170970','popup-184098','popup-192274','popup-232756','popup-200120','popup-226670','popup-230890','popup-261455','popup-171881','popup-274927'];let cn_modal_ids=['popup-178220','popup-129048','popup-179347','popup-127701'];let merged_ids=[...modal_ids,...cn_modal_ids];if(merged_ids.includes(modal_id)){let current_id=modal_id.replace('popup-','');if(!this.splides[current_id]){this.splides[current_id]=new Splide('#'+modal_id+' .splide',{type:'fade',perPage:1,rewind:!0,autoplay:!0,interval:4000,arrows:!1})}
if(!this.splides[current_id].state.is(3)&&!this.splides[current_id].state.is(4)){this.splides[current_id].mount()}}
if(modal_id=='popup-245660'){let modal_content=modal.querySelector('.micromodal__inner');modal_content.innerHTML='';let wrapper=document.createElement('div');let pre=document.createElement('pre');let code=document.createElement('code');let title=document.createElement('h3');title.classList.add('h4');title.classList.add('mb-3');title.innerHTML=btn.getAttribute('data-title');wrapper.classList.add('ds_code_wrapper');wrapper.classList.add('br-8');pre.classList.add('line-numbers');pre.classList.add('language-json');code.classList.add('language-json');code.classList.add('match-braces');code.innerHTML=btn.innerHTML;pre.append(code);wrapper.append(pre);modal_content.classList.add('p-3');modal_content.classList.add('p-lg-4');modal_content.append(title);modal_content.append(wrapper);Prism.highlightAllUnder(modal,!1)}}};window.addEventListener('load',()=>brd_modals.init(),!1)