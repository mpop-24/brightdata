'use strict';(function($){let marker_icon;let marker_icon_big;let last_opened_info_window;function init_map($el){const markers=$el.find('.marker');marker_icon=$el.data('icon');marker_icon_big=$el.data('icon_big');const map_args={zoom:jQuery(window).width()>1024?$el.data('zoom'):parseInt($el.data('zoom'))-1,center:{lat:15,lng:0},mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{mapTypeIds:[]},mapTypeControl:!1,zoomControl:!1,streetViewControl:!1,fullscreenControl:!1,styles:[{'featureType':'all','elementType':'labels.text.fill','stylers':[{'saturation':36},{'color':'#3D7FFC'},{'lightness':40}]},{'featureType':'all','elementType':'labels.text.stroke','stylers':[{'visibility':'on'},{'color':'#3D7FFC'},{'lightness':16}]},{'featureType':'all','elementType':'labels.icon','stylers':[{'visibility':'off'}]},{'featureType':'administrative','elementType':'all','stylers':[{'visibility':'off'}]},{'featureType':'administrative','elementType':'geometry','stylers':[{'visibility':'off'}]},{'featureType':'administrative','elementType':'geometry.fill','stylers':[{'color':'#3D7FFC'},{'lightness':20},{'visibility':'off'}]},{'featureType':'administrative','elementType':'geometry.stroke','stylers':[{'color':'#3D7FFC'},{'lightness':17},{'weight':1.2}]},{'featureType':'administrative.country','elementType':'geometry','stylers':[{'visibility':'on'},{'color':'#B6D4FF'}]},{'featureType':'administrative.country','elementType':'geometry.fill','stylers':[{'visibility':'off'},{'color':'#B6D4FF'}]},{'featureType':'administrative.country','elementType':'labels','stylers':[{'visibility':'off'}]},{'featureType':'administrative.province','elementType':'geometry.fill','stylers':[{'visibility':'on'},{'color':'#B6D4FF'}]},{'featureType':'administrative.province','elementType':'labels','stylers':[{'visibility':'off'}]},{'featureType':'administrative.neighborhood','elementType':'geometry.fill','stylers':[{'visibility':'on'},{'color':'#B6D4FF'}]},{'featureType':'administrative.neighborhood','elementType':'labels','stylers':[{'visibility':'off'}]},{'featureType':'landscape','elementType':'all','stylers':[{'visibility':'on'}]},{'featureType':'landscape','elementType':'geometry','stylers':[{'color':'#3D7FFC'},{'lightness':20}]},{'featureType':'poi','elementType':'geometry','stylers':[{'color':'#3D7FFC'},{'lightness':21}]},{'featureType':'poi','elementType':'geometry.fill','stylers':[{'visibility':'on'},{'color':'#B6D4FF'}]},{'featureType':'poi','elementType':'labels','stylers':[{'visibility':'off'}]},{'featureType':'road','elementType':'all','stylers':[{'visibility':'on'}]},{'featureType':'road.highway','elementType':'all','stylers':[{'visibility':'on'}]},{'featureType':'road.highway','elementType':'geometry','stylers':[{'visibility':'on'}]},{'featureType':'road.highway','elementType':'geometry.fill','stylers':[{'color':'#B6D4FF'},{'lightness':17},{'visibility':'on'}]},{'featureType':'road.highway','elementType':'geometry.stroke','stylers':[{'color':'#3D7FFC'},{'lightness':29},{'weight':0.2},{'visibility':'off'}]},{'featureType':'road.highway','elementType':'labels','stylers':[{'visibility':'off'}]},{'featureType':'road.arterial','elementType':'all','stylers':[{'visibility':'off'}]},{'featureType':'road.arterial','elementType':'geometry','stylers':[{'color':'#3D7FFC'},{'lightness':18},{'visibility':'on'}]},{'featureType':'road.local','elementType':'geometry','stylers':[{'lightness':16}]},{'featureType':'transit','elementType':'all','stylers':[{'visibility':'off'}]},{'featureType':'transit','elementType':'geometry','stylers':[{'color':'#3D7FFC'},{'lightness':19}]},{'featureType':'transit','elementType':'geometry.fill','stylers':[{'visibility':'on'},{'color':'#B6D4FF'}]},{'featureType':'transit','elementType':'labels','stylers':[{'visibility':'off'}]},{'featureType':'transit.line','elementType':'all','stylers':[{'visibility':'off'}]},{'featureType':'water','elementType':'all','stylers':[{'visibility':'on'}]},{'featureType':'water','elementType':'geometry','stylers':[{'color':'#B6D4FF'},{'lightness':17}]},{'featureType':'water','elementType':'geometry.fill','stylers':[{'visibility':'on'}]},{'featureType':'water','elementType':'labels','stylers':[{'visibility':'off'}]}]};const map=new google.maps.Map($el[0],map_args);const geocoder=new google.maps.Geocoder();map.markers=[];markers.each((index,item)=>{let address=$(item).attr('data-string');let content=$(item).attr('data-content');geo_create_location(geocoder,address,map,item,content)});return map}
function geo_create_location(geocoder,address,map,item,content){let init_lat=parseFloat($(item).attr('data-lat'));let init_lng=parseFloat($(item).attr('data-lng'));if(init_lat>0&&init_lng>0)
init_marker(init_lat,init_lng,map,address,item,content);else{geocoder.geocode({'address':address},(results,status)=>{if(status=='OK'){for(var i=0;i<results.length;i++){let lat=results[i].geometry.location.lat();let lng=results[i].geometry.location.lng();init_marker(lat,lng,map,address,item,content)}}else{setTimeout(()=>geo_create_location(geocoder,address,map,item,content),250)}})}}
function init_marker(lat,lng,map,address,item,content){let marker_size=$(item).hasClass('marker_big')?new google.maps.Size(46,46):new google.maps.Size(36,36);let current_marker_icon=$(item).hasClass('marker_big')?marker_icon_big:marker_icon;let lat_lng={lat:parseFloat(lat),lng:parseFloat(lng)};let info_window=new google.maps.InfoWindow({content:address+content,});let marker=new google.maps.Marker({position:lat_lng,map:map,zIndex:$(item).hasClass('marker_big')?99:91,icon:{url:current_marker_icon,scaledSize:marker_size}});marker.addListener('click',()=>{if(last_opened_info_window)
last_opened_info_window.close();info_window.open({anchor:marker,map,shouldFocus:!0,});last_opened_info_window=info_window});marker.addListener('mouseover',()=>{marker.setIcon({url:current_marker_icon,scaledSize:$(item).hasClass('marker_big')?new google.maps.Size(46,46):new google.maps.Size(38,38)});if(last_opened_info_window)
last_opened_info_window.close();info_window.open({anchor:marker,map,shouldFocus:!0,});last_opened_info_window=info_window});marker.addListener('mouseout',()=>{marker.setIcon({url:current_marker_icon,scaledSize:marker_size})});map.markers.push(marker)}
$(document).ready(function(){$('.brd_map_inner').each((index,item)=>init_map($(item)))})})(jQuery)