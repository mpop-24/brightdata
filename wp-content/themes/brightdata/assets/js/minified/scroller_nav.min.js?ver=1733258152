'use strict';const scroller_nav={nav_items:null,init(){this.nav_items=document.querySelectorAll('.nav .nav_item');this.scroll();this.sticky();window.addEventListener('scroll',()=>this.check_active_section())},scroll(){if(this.nav_items.length===0)
return;this.nav_items.forEach(item=>{item.addEventListener('click',()=>{this.nav_items.forEach(nav_item=>{nav_item.classList.remove('active')});item.classList.add('active');let target_selector=item.getAttribute('data-item-pos');let extra=item.getAttribute('data-item-extra')||50;let target_element=document.querySelector('.'+target_selector);if(target_element){window.scrollTo({top:target_element.offsetTop-extra,behavior:'smooth'})}else console.log('Target element not found')})})},sticky(){window.addEventListener('scroll',()=>{const main_nav=document.querySelector('#scroller_nav');let scroll_at=main_nav.getAttribute('data-sticky-at')||'580';if(window.scrollY>scroll_at)
main_nav.classList.add('sticky');else main_nav.classList.remove('sticky');this.check_active_section()})},check_active_section(){let current_scroll=window.scrollY+window.innerHeight/2;this.nav_items.forEach(item=>{let target_selector=item.getAttribute('data-item-pos');let target_element=document.querySelector('.'+target_selector);if(target_element){let element_top=target_element.offsetTop;let element_height=target_element.offsetHeight;if(current_scroll>=element_top&&current_scroll<element_top+element_height){item.classList.add('active')}else item.classList.remove('active')}})}};scroller_nav.init()